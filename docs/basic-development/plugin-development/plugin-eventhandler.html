<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-basic-development/plugin-development/plugin-eventhandler">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Developing Plug-in Event Handlers | iDempiere Open Source ERP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://idempiere.github.io/img/idempiere-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://idempiere.github.io/img/idempiere-social-card.jpg"><meta data-rh="true" property="og:url" content="https://idempiere.github.io/docs/basic-development/plugin-development/plugin-eventhandler"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developing Plug-in Event Handlers | iDempiere Open Source ERP"><meta data-rh="true" name="description" content="Learn how to implement event handlers in iDempiere plug-ins to intercept and respond to model events."><meta data-rh="true" property="og:description" content="Learn how to implement event handlers in iDempiere plug-ins to intercept and respond to model events."><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://idempiere.github.io/docs/basic-development/plugin-development/plugin-eventhandler"><link data-rh="true" rel="alternate" href="https://idempiere.github.io/docs/basic-development/plugin-development/plugin-eventhandler" hreflang="en"><link data-rh="true" rel="alternate" href="https://idempiere.github.io/docs/basic-development/plugin-development/plugin-eventhandler" hreflang="x-default"><link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#0c5f91"><link rel="stylesheet" href="/assets/css/styles.650850b4.css">
<link rel="preload" href="/assets/js/runtime~main.f4a21363.js" as="script">
<link rel="preload" href="/assets/js/main.ab2e719f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="iDempiere Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="iDempiere Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">iDempiere</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Next</a><a href="https://github.com/idempiere/idempiere" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Purpose</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/basic-installation">Basic Installation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Basic Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/basic-functional">Basic Functional</a><button aria-label="Toggle the collapsible sidebar category &#x27;Basic Functional&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/basic-development">Basic Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Basic Development&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/introduction">Purpose</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/basic-development/2pack/what-is-2pack">2Pack</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/contributing-to-core">Contributing to Core</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contributing to Core&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/developing-plug-ins">Developing Plug-Ins</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developing Plug-Ins&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/developing-plugins">Plugin Workflow (Isolated from Core)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/plugin-running-locally">Running Plug-ins Locally</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/distributing-plugins">Distributing Plug-ins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/annotations-instead-xml">Service Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/plugin-process">Processes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/plugin-callouts">Callouts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/basic-development/plugin-development/plugin-eventhandler">Event Handlers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/plugin-forms">Forms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basic-development/plugin-development/plugin-modelvalidator">Model Validators</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/basic-primers">Basic Primers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Basic Primers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/widgets--quick-info">Widgets &amp; Quick Info</a><button aria-label="Toggle the collapsible sidebar category &#x27;Widgets &amp; Quick Info&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/documentation-standards">Documentation Standards</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/basic-development"><span itemprop="name">Basic Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/developing-plug-ins"><span itemprop="name">Developing Plug-Ins</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Event Handlers</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Developing Plug-in Event Handlers</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-goal">ðŸŽ¯ Goal<a href="#-goal" class="hash-link" aria-label="Direct link to ðŸŽ¯ Goal" title="Direct link to ðŸŽ¯ Goal">â€‹</a></h2><p>This tutorial shows you how to develop <strong>event handlers</strong> in your own plug-in, enabling you to intercept and respond to data model events throughout the iDempiere system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-an-event-handler">What is an Event Handler?<a href="#what-is-an-event-handler" class="hash-link" aria-label="Direct link to What is an Event Handler?" title="Direct link to What is an Event Handler?">â€‹</a></h3><p>An <strong>event handler</strong> is a component that listens to and responds to events triggered by changes to data models (tables) in iDempiere. Event handlers are executed whenever records are created, updated, or deleted, regardless of how the change was initiated.</p><p>Event handlers are commonly used to:</p><ul><li><strong>Validate data</strong> across all entry points (UI, REST API, processes, imports)</li><li><strong>Enforce business rules</strong> that must apply system-wide</li><li><strong>Trigger automated actions</strong> when data changes (e.g., send notifications, update related records)</li><li><strong>Maintain data integrity</strong> through cross-table validations</li><li><strong>Audit and log</strong> specific operations</li><li><strong>Integrate with external systems</strong> when data changes</li></ul><p>For example, when a Sales Order is completed, an event handler can automatically create a shipment, send a notification email, or update inventory levels.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-handlers-vs-callouts">Event Handlers vs Callouts<a href="#event-handlers-vs-callouts" class="hash-link" aria-label="Direct link to Event Handlers vs Callouts" title="Direct link to Event Handlers vs Callouts">â€‹</a></h3><table><thead><tr><th>Feature</th><th>Event Handler</th><th>Callout</th></tr></thead><tbody><tr><td><strong>Scope</strong></td><td>All operations (UI, API, processes, imports)</td><td>UI and CSV Importer only</td></tr><tr><td><strong>Execution Point</strong></td><td>Before/after database operations</td><td>During field value changes in UI</td></tr><tr><td><strong>Use Case</strong></td><td>System-wide business rules and validations</td><td>UI-specific field interactions</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>When to Use Event Handlers</div><div class="admonitionContent_S0QG"><p>Use <strong>event handlers</strong> when you need logic that applies regardless of how data is entered or modified. Use <strong><a href="/docs/basic-development/plugin-development/plugin-callouts">callouts</a></strong> for UI-specific interactions like auto-filling fields or showing immediate feedback to users.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-prerequisites">âœ… Prerequisites<a href="#-prerequisites" class="hash-link" aria-label="Direct link to âœ… Prerequisites" title="Direct link to âœ… Prerequisites">â€‹</a></h2><p>Before starting, review:</p><ul><li><a href="/docs/basic-development/plugin-development/developing-plugins">Developing Plug-Ins Without Affecting the Trunk</a></li><li><a href="/docs/basic-development/plugin-development/plugin-running-locally">Running Plug-ins Locally</a></li></ul><p>You should already know how to create a plug-in, as this guide will not cover that in detail.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-overview">ðŸ“‹ Overview<a href="#-overview" class="hash-link" aria-label="Direct link to ðŸ“‹ Overview" title="Direct link to ðŸ“‹ Overview">â€‹</a></h2><p>iDempiere&#x27;s event handling system is built on top of the <strong>OSGi Event Admin Framework</strong>. The <code>IEventManager</code> service, provided by the <code>org.adempiere.base</code> bundle, enables you to register event handlers that replace the legacy <code>AD_ModelValidator</code> table and <code>ModelValidator</code> interface approach.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-implementation-methods">ðŸ“‹ Implementation Methods<a href="#-implementation-methods" class="hash-link" aria-label="Direct link to ðŸ“‹ Implementation Methods" title="Direct link to ðŸ“‹ Implementation Methods">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="modern-approach-idempiere-9-event-annotation">Modern Approach (iDempiere 9+): Event Annotation<a href="#modern-approach-idempiere-9-event-annotation" class="hash-link" aria-label="Direct link to Modern Approach (iDempiere 9+): Event Annotation" title="Direct link to Modern Approach (iDempiere 9+): Event Annotation">â€‹</a></h3><p>Starting with <strong>iDempiere 9</strong>, you can use annotations to register event handlers. This is the simplest and recommended approach.</p><p>For details, see the section on <a href="#event-annotations-idempiere-9">Event Annotations</a> below.</p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-event-handler-class">Creating an Event Handler Class<a href="#creating-an-event-handler-class" class="hash-link" aria-label="Direct link to Creating an Event Handler Class" title="Direct link to Creating an Event Handler Class">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-extend-abstracteventhandler">Step 1: Extend AbstractEventHandler<a href="#step-1-extend-abstracteventhandler" class="hash-link" aria-label="Direct link to Step 1: Extend AbstractEventHandler" title="Direct link to Step 1: Extend AbstractEventHandler">â€‹</a></h4><p>Create a class that extends <a href="https://github.com/idempiere/idempiere/blob/master/org.adempiere.base/src/org/adempiere/base/event/AbstractEventHandler.java" target="_blank" rel="noopener noreferrer"><code>AbstractEventHandler</code></a>. This base class simplifies event handler implementation and allows you to stop events by throwing a <code>RuntimeException</code>.</p><p><strong>Example: <code>MyEventHandler.java</code></strong></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package com.example.eventhandler;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.adempiere.base.event.AbstractEventHandler;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.adempiere.base.event.IEventTopics;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.compiere.model.PO;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.compiere.model.MOrder;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.osgi.service.event.Event;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyEventHandler extends AbstractEventHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void initialize() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Register for events on the C_Order table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registerTableEvent(IEventTopics.PO_BEFORE_NEW, MOrder.Table_Name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registerTableEvent(IEventTopics.PO_BEFORE_CHANGE, MOrder.Table_Name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registerTableEvent(IEventTopics.PO_AFTER_NEW, MOrder.Table_Name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected void doHandleEvent(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String type = event.getTopic();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PO po = getPO(event);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (po instanceof MOrder) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            MOrder order = (MOrder) po;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (type.equals(IEventTopics.PO_BEFORE_NEW)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Validation logic before creating a new order</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (order.getC_BPartner_ID() &lt;= 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    throw new RuntimeException(&quot;Business Partner is required&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else if (type.equals(IEventTopics.PO_BEFORE_CHANGE)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Validation logic before updating an order</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                validateOrderTotal(order);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else if (type.equals(IEventTopics.PO_AFTER_NEW)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Post-creation actions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;New order created: &quot; + order.getDocumentNo());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void validateOrderTotal(MOrder order) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Your validation logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (order.getGrandTotal().signum() &lt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new RuntimeException(&quot;Order total cannot be negative&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Example Project:</strong></p><p>For a complete working example of event handlers, see:<br>
<a href="https://github.com/hengsin/idempiere-examples/blob/main/org.idempiere.eventhandler.example/src/org/idempiere/eventhandler/example/Activator.java" target="_blank" rel="noopener noreferrer">idempiere-examples: Event Handler Example</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-override-required-methods">Step 2: Override Required Methods<a href="#step-2-override-required-methods" class="hash-link" aria-label="Direct link to Step 2: Override Required Methods" title="Direct link to Step 2: Override Required Methods">â€‹</a></h4><p>Your event handler class must override two methods:</p><ol><li><strong><code>initialize()</code></strong> - Register the table events you&#x27;re interested in</li><li><strong><code>doHandleEvent(Event event)</code></strong> - Implement your business logic</li></ol><p><strong>Available Event Topics</strong> (from <code>IEventTopics</code> interface):</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="model-po-events">Model (PO) Events<a href="#model-po-events" class="hash-link" aria-label="Direct link to Model (PO) Events" title="Direct link to Model (PO) Events">â€‹</a></h5><p>These events are triggered during record operations:</p><ul><li><code>PO_BEFORE_NEW</code> - Before a new record is saved to the database</li><li><code>PO_AFTER_NEW</code> - After a new record is saved to the database</li><li><code>PO_AFTER_NEW_REPLICATION</code> - After new record replication</li><li><code>PO_BEFORE_CHANGE</code> - Before an existing record is updated</li><li><code>PO_AFTER_CHANGE</code> - After an existing record is updated</li><li><code>PO_AFTER_CHANGE_REPLICATION</code> - After record change replication</li><li><code>PO_BEFORE_DELETE</code> - Before a record is deleted</li><li><code>PO_AFTER_DELETE</code> - After a record is deleted</li><li><code>PO_BEFORE_DELETE_REPLICATION</code> - Before record deletion replication</li><li><code>PO_POST_CREATE</code> - Asynchronous event after record creation</li><li><code>PO_POST_UPDATE</code> - Asynchronous event after record update</li><li><code>PO_POST_DELETE</code> - Asynchronous event after record deletion</li><li><code>PO_ALL</code> - Wildcard to match all PO events</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="document-events">Document Events<a href="#document-events" class="hash-link" aria-label="Direct link to Document Events" title="Direct link to Document Events">â€‹</a></h5><p>These events are triggered during document workflow actions:</p><p><strong>Before Events:</strong></p><ul><li><code>DOC_BEFORE_PREPARE</code> - Before document is prepared</li><li><code>DOC_BEFORE_COMPLETE</code> - Before document is completed</li><li><code>DOC_BEFORE_VOID</code> - Before document is voided</li><li><code>DOC_BEFORE_CLOSE</code> - Before document is closed</li><li><code>DOC_BEFORE_REACTIVATE</code> - Before document is reactivated</li><li><code>DOC_BEFORE_REVERSECORRECT</code> - Before document reverse correction</li><li><code>DOC_BEFORE_REVERSEACCRUAL</code> - Before document reverse accrual</li><li><code>DOC_BEFORE_POST</code> - Before document is posted to accounting</li></ul><p><strong>After Events:</strong></p><ul><li><code>DOC_AFTER_PREPARE</code> - After document is prepared</li><li><code>DOC_AFTER_COMPLETE</code> - After document is completed</li><li><code>DOC_AFTER_VOID</code> - After document is voided</li><li><code>DOC_AFTER_CLOSE</code> - After document is closed</li><li><code>DOC_AFTER_REACTIVATE</code> - After document is reactivated</li><li><code>DOC_AFTER_REVERSECORRECT</code> - After document reverse correction</li><li><code>DOC_AFTER_REVERSEACCRUAL</code> - After document reverse accrual</li><li><code>DOC_AFTER_POST</code> - After document is posted to accounting</li><li><code>DOC_ALL</code> - Wildcard to match all document events</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="import-events">Import Events<a href="#import-events" class="hash-link" aria-label="Direct link to Import Events" title="Direct link to Import Events">â€‹</a></h5><p>Events triggered during data import processes:</p><ul><li><code>IMPORT_BEFORE_VALIDATE</code> - Before all import records are validated</li><li><code>IMPORT_AFTER_VALIDATE</code> - After all import records are validated</li><li><code>IMPORT_BEFORE_IMPORT</code> - Before an import record is processed</li><li><code>IMPORT_AFTER_IMPORT</code> - After an import record is processed</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="process-events">Process Events<a href="#process-events" class="hash-link" aria-label="Direct link to Process Events" title="Direct link to Process Events">â€‹</a></h5><p>Events triggered during process execution:</p><ul><li><code>BEFORE_PROCESS</code> - Before starting a process, after it&#x27;s prepared</li><li><code>AFTER_PROCESS</code> - After a process finishes, before commit</li><li><code>POST_PROCESS</code> - After a process is committed (asynchronous)</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="system-events">System Events<a href="#system-events" class="hash-link" aria-label="Direct link to System Events" title="Direct link to System Events">â€‹</a></h5><p>Other system-level events:</p><ul><li><code>AFTER_LOGIN</code> - After user login</li><li><code>ACCT_FACTS_VALIDATE</code> - During accounting facts validation</li><li><code>PREF_AFTER_LOAD</code> - After preferences are loaded</li><li><code>DOCACTION</code> - During discovery of available document actions</li><li><code>BROADCAST_MESSAGE</code> - For broadcast messaging</li><li><code>REQUEST_SEND_EMAIL</code> - Before sending email for requests</li><li><code>REPORT_SEND_EMAIL</code> - Before sending email for reports (to prefill dialog variables)</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Choosing the Right Event</div><div class="admonitionContent_S0QG"><ul><li>Use <strong>BEFORE</strong> events for validation and preventing operations</li><li>Use <strong>AFTER</strong> events for post-processing and triggering subsequent actions</li><li>Use <strong>POST</strong> events for asynchronous operations that shouldn&#x27;t block the main transaction</li><li>Use <strong>DOC</strong> events for document-specific workflow logic</li><li>Use <strong>PO</strong> events for general record-level logic</li></ul></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Showing Error Messages</div><div class="admonitionContent_S0QG"><p>Instead of throwing an exception, you can call <code>addErrorMessage(String message)</code> to display a user-friendly error message without a stack trace.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-registering-as-an-osgi-component">ðŸ”§ Registering as an OSGi Component<a href="#-registering-as-an-osgi-component" class="hash-link" aria-label="Direct link to ðŸ”§ Registering as an OSGi Component" title="Direct link to ðŸ”§ Registering as an OSGi Component">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-a-using-annotations-recommended">Option A: Using Annotations (Recommended)<a href="#option-a-using-annotations-recommended" class="hash-link" aria-label="Direct link to Option A: Using Annotations (Recommended)" title="Direct link to Option A: Using Annotations (Recommended)">â€‹</a></h3><p>Add the <code>@Component</code> annotation to your event handler class:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.osgi.service.component.annotations.Component;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.osgi.service.component.annotations.Reference;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Component(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service = org.osgi.service.event.EventHandler.class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    immediate = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyEventHandler extends AbstractEventHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Reference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void bindEventManager(IEventManager eventManager) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.setEventManager(eventManager);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void unbindEventManager(IEventManager eventManager) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.setEventManager(null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ... rest of implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See <a href="/docs/basic-development/plugin-development/developing-plugins#event-handle">Event Handling with Annotations</a> for more details.</p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-b-manual-component-definition">Option B: Manual Component Definition<a href="#option-b-manual-component-definition" class="hash-link" aria-label="Direct link to Option B: Manual Component Definition" title="Direct link to Option B: Manual Component Definition">â€‹</a></h3><p>If not using annotations, create a component definition XML file manually.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-create-osgi-inf-directory">Step 1: Create OSGI-INF Directory<a href="#step-1-create-osgi-inf-directory" class="hash-link" aria-label="Direct link to Step 1: Create OSGI-INF Directory" title="Direct link to Step 1: Create OSGI-INF Directory">â€‹</a></h4><p>Create a directory named <code>OSGI-INF</code> in your project root (this is the OSGi convention for component definitions).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-component-definition-xml">Step 2: Create Component Definition XML<a href="#step-2-create-component-definition-xml" class="hash-link" aria-label="Direct link to Step 2: Create Component Definition XML" title="Direct link to Step 2: Create Component Definition XML">â€‹</a></h4><p>Create a file <code>OSGI-INF/eventhandler.xml</code>:</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">scr:</span><span class="token tag" style="color:#00009f">component</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">scr</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.osgi.org/xmlns/scr/v1.1.0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">               </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.example.eventhandler.MyEventHandler</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">implementation</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.example.eventhandler.MyEventHandler</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">reference</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">bind</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">bindEventManager</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">unbind</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">unbindEventManager</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">cardinality</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1..1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">interface</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.adempiere.base.event.IEventManager</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">IEventManager</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">policy</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">static</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">scr:</span><span class="token tag" style="color:#00009f">component</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>bindEventManager</code> and <code>unbindEventManager</code> methods are inherited from the <code>AbstractEventHandler</code> class.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-update-manifestmf">Step 3: Update MANIFEST.MF<a href="#step-3-update-manifestmf" class="hash-link" aria-label="Direct link to Step 3: Update MANIFEST.MF" title="Direct link to Step 3: Update MANIFEST.MF">â€‹</a></h4><p>Edit your <code>META-INF/MANIFEST.MF</code> file to include the component definition:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Service-Component: OSGI-INF/eventhandler.xml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you have multiple component definitions, you can use:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Service-Component: OSGI-INF/*.xml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-enable-plugin-activation">Step 4: Enable Plugin Activation<a href="#step-4-enable-plugin-activation" class="hash-link" aria-label="Direct link to Step 4: Enable Plugin Activation" title="Direct link to Step 4: Enable Plugin Activation">â€‹</a></h4><p>In your <code>MANIFEST.MF</code>, ensure the plugin activation is enabled:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Bundle-ActivationPolicy: lazy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Also ensure in your plugin configuration that &quot;Activate this plugin when one of its classes is loaded&quot; is enabled.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-update-buildproperties">Step 5: Update build.properties<a href="#step-5-update-buildproperties" class="hash-link" aria-label="Direct link to Step 5: Update build.properties" title="Direct link to Step 5: Update build.properties">â€‹</a></h4><p>Ensure <code>build.properties</code> includes the OSGI-INF directory:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bin.includes = META-INF/,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               .,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               OSGI-INF/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-testing-your-event-handler">ðŸ§ª Testing Your Event Handler<a href="#-testing-your-event-handler" class="hash-link" aria-label="Direct link to ðŸ§ª Testing Your Event Handler" title="Direct link to ðŸ§ª Testing Your Event Handler">â€‹</a></h2><ol><li>Deploy your plug-in to iDempiere</li><li>Start the iDempiere server</li><li>Perform an action that triggers your event (e.g., create or update a Sales Order)</li><li>Verify that your event handler logic executes</li><li>Check logs for any output or errors</li></ol><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-exporting-your-plug-in">ðŸ“¦ Exporting Your Plug-in<a href="#-exporting-your-plug-in" class="hash-link" aria-label="Direct link to ðŸ“¦ Exporting Your Plug-in" title="Direct link to ðŸ“¦ Exporting Your Plug-in">â€‹</a></h2><p>Before exporting your plug-in as a JAR:</p><ol><li>Open <code>build.properties</code></li><li>Verify that <code>OSGI-INF/</code> is listed in <strong>Binary Build</strong></li><li>Ensure your component definition XML files are included</li><li>Test the exported JAR in a clean iDempiere instance</li></ol><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-video-tutorial">ðŸŽ¥ Video Tutorial<a href="#-video-tutorial" class="hash-link" aria-label="Direct link to ðŸŽ¥ Video Tutorial" title="Direct link to ðŸŽ¥ Video Tutorial">â€‹</a></h2><p>Watch this video walkthrough:<br>
<a href="https://www.youtube.com/watch?v=zc_Ye8WZ-jc" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=zc_Ye8WZ-jc</a></p><p>Additional tutorial:<br>
<a href="https://www.youtube.com/watch?v=lVPPnyiBvV8" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=lVPPnyiBvV8</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-related-resources">ðŸ”— Related Resources<a href="#-related-resources" class="hash-link" aria-label="Direct link to ðŸ”— Related Resources" title="Direct link to ðŸ”— Related Resources">â€‹</a></h2><ul><li><a href="https://github.com/idempiere/idempiere/blob/master/org.adempiere.base/src/org/adempiere/base/event/AbstractEventHandler.java" target="_blank" rel="noopener noreferrer">AbstractEventHandler Class</a></li><li><a href="https://github.com/idempiere/idempiere/blob/master/org.adempiere.base/src/org/adempiere/base/event/IEventTopics.java" target="_blank" rel="noopener noreferrer">IEventTopics Interface</a></li><li><a href="https://github.com/idempiere/idempiere/blob/master/org.adempiere.base/src/org/adempiere/base/event/IEventManager.java" target="_blank" rel="noopener noreferrer">IEventManager Interface</a></li><li><a href="https://osgi.org/specification/osgi.cmpn/7.0.0/service.event.html" target="_blank" rel="noopener noreferrer">OSGi Event Admin Framework</a></li><li><a href="https://wiki.idempiere.org/en/NF9_OSGi_New_Process_Factory" target="_blank" rel="noopener noreferrer">iDempiere 9 Event Annotations</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/idempiere/idempiere.github.io/tree/main/docs/basic-development/plugin-development/plugin-eventhandler.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/basic-development/plugin-development/plugin-callouts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Callouts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/basic-development/plugin-development/plugin-forms"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Forms</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-goal" class="table-of-contents__link toc-highlight">ðŸŽ¯ Goal</a><ul><li><a href="#what-is-an-event-handler" class="table-of-contents__link toc-highlight">What is an Event Handler?</a></li><li><a href="#event-handlers-vs-callouts" class="table-of-contents__link toc-highlight">Event Handlers vs Callouts</a></li></ul></li><li><a href="#-prerequisites" class="table-of-contents__link toc-highlight">âœ… Prerequisites</a></li><li><a href="#-overview" class="table-of-contents__link toc-highlight">ðŸ“‹ Overview</a></li><li><a href="#-implementation-methods" class="table-of-contents__link toc-highlight">ðŸ“‹ Implementation Methods</a><ul><li><a href="#modern-approach-idempiere-9-event-annotation" class="table-of-contents__link toc-highlight">Modern Approach (iDempiere 9+): Event Annotation</a></li><li><a href="#creating-an-event-handler-class" class="table-of-contents__link toc-highlight">Creating an Event Handler Class</a></li></ul></li><li><a href="#-registering-as-an-osgi-component" class="table-of-contents__link toc-highlight">ðŸ”§ Registering as an OSGi Component</a><ul><li><a href="#option-a-using-annotations-recommended" class="table-of-contents__link toc-highlight">Option A: Using Annotations (Recommended)</a></li><li><a href="#option-b-manual-component-definition" class="table-of-contents__link toc-highlight">Option B: Manual Component Definition</a></li></ul></li><li><a href="#-testing-your-event-handler" class="table-of-contents__link toc-highlight">ðŸ§ª Testing Your Event Handler</a></li><li><a href="#-exporting-your-plug-in" class="table-of-contents__link toc-highlight">ðŸ“¦ Exporting Your Plug-in</a></li><li><a href="#-video-tutorial" class="table-of-contents__link toc-highlight">ðŸŽ¥ Video Tutorial</a></li><li><a href="#-related-resources" class="table-of-contents__link toc-highlight">ðŸ”— Related Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Basic Installation Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Basic Functional Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Basic Developer Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://groups.google.com/g/idempiere" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Groups<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://mattermost.idempiere.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mattermost<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/groups/idempiere/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://www.twitter.com/idempiere" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCRdFTCB3yc_ni8EBXyhVqfQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/groups/5146317/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/idempiere/idempiere" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 iDempiere<br>Illustrations by <a href="https://storyset.com">Storyset</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.f4a21363.js"></script>
<script src="/assets/js/main.ab2e719f.js"></script>
</body>
</html>