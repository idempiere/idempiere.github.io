"use strict";(self.webpackChunkidempiere_id_github_io=self.webpackChunkidempiere_id_github_io||[]).push([[1940],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},k="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),k=c(a),d=i,m=k["".concat(p,".").concat(d)]||k[d]||s[d]||l;return a?n.createElement(m,r(r({ref:t},u),{},{components:a})):n.createElement(m,r({ref:t},u))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,r=new Array(l);r[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[k]="string"==typeof e?e:i,r[1]=o;for(var c=2;c<l;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5294:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>s,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var n=a(7462),i=(a(7294),a(3905));const l={title:"Using 2Pack to Transfer Data and Automate Plug-in Setup",sidebar_label:"2Pack - Transfer & Automate",description:"Learn how to use iDempiere's 2Pack functionality to transfer configuration and automate setup using plug-ins.",sidebar_position:6},r=void 0,o={unversionedId:"basic-development/plugin-development/packin-packout-guide",id:"basic-development/plugin-development/packin-packout-guide",title:"Using 2Pack to Transfer Data and Automate Plug-in Setup",description:"Learn how to use iDempiere's 2Pack functionality to transfer configuration and automate setup using plug-ins.",source:"@site/docs/basic-development/plugin-development/packin-packout-guide.md",sourceDirName:"basic-development/plugin-development",slug:"/basic-development/plugin-development/packin-packout-guide",permalink:"/docs/basic-development/plugin-development/packin-packout-guide",draft:!1,editUrl:"https://github.com/idempiere/idempiere.github.io/tree/main/docs/basic-development/plugin-development/packin-packout-guide.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"Using 2Pack to Transfer Data and Automate Plug-in Setup",sidebar_label:"2Pack - Transfer & Automate",description:"Learn how to use iDempiere's 2Pack functionality to transfer configuration and automate setup using plug-ins.",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"2Packs",permalink:"/docs/basic-development/plugin-development/what-is-2pack"},next:{title:"Automatic External Pack In",permalink:"/docs/basic-development/plugin-development/automatic-external-packin"}},p={},c=[{value:"\ud83c\udfaf Goal",id:"-goal",level:2},{value:"\u2705 Prerequisites",id:"-prerequisites",level:2},{value:"\ud83d\udd01 TL;DR",id:"-tldr",level:2},{value:"\ud83d\udd27 Pack Out Data",id:"-pack-out-data",level:2},{value:"Managing Your Pack Outs",id:"managing-your-pack-outs",level:3},{value:"What Can Be Packed Out",id:"what-can-be-packed-out",level:3},{value:"Creating a Package Detail",id:"creating-a-package-detail",level:3},{value:"Exporting via Table Window",id:"exporting-via-table-window",level:3},{value:"\ud83d\udce5 Pack In Data Manually",id:"-pack-in-data-manually",level:2},{value:"Install a 2Pack",id:"install-a-2pack",level:3},{value:"Rollback a 2Pack",id:"rollback-a-2pack",level:3},{value:"\u2699\ufe0f Pack In Automatically with Plug-ins",id:"\ufe0f-pack-in-automatically-with-plug-ins",level:2},{value:"Option 1: <code>AdempiereActivator</code>",id:"option-1-adempiereactivator",level:3},{value:"Option 2: <code>Incremental2PackActivator</code>",id:"option-2-incremental2packactivator",level:3},{value:"\ud83d\udcda Advanced: Packing Out Related Records",id:"-advanced-packing-out-related-records",level:2}],u={toc:c},k="wrapper";function s(e){let{components:t,...a}=e;return(0,i.kt)(k,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"-goal"},"\ud83c\udfaf Goal"),(0,i.kt)("p",null,"This tutorial explains how to use the ",(0,i.kt)("strong",{parentName:"p"},"2Pack functionality")," in iDempiere to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Transfer customizations such as windows, processes, or data from one system to another"),(0,i.kt)("li",{parentName:"ul"},"Automatically initialize data when a plug-in is first started")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"-prerequisites"},"\u2705 Prerequisites"),(0,i.kt)("p",null,"Before starting, review:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"./developing-plugins"},"Developing Plug-Ins Without Affecting the Trunk")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"./plugin-running-locally"},"Running Plug-ins Locally"))),(0,i.kt)("p",null,"You should already know how to create a plug-in, as this guide will not cover that in detail."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"-tldr"},"\ud83d\udd01 TL;DR"),(0,i.kt)("p",null,"Watch this quick video overview:\n",(0,i.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=jykimSDE_54"},"https://www.youtube.com/watch?v=jykimSDE_54")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"-pack-out-data"},"\ud83d\udd27 Pack Out Data"),(0,i.kt)("h3",{id:"managing-your-pack-outs"},"Managing Your Pack Outs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Log in as ",(0,i.kt)("strong",{parentName:"li"},"System Administrator")," if you want to pack out system-level configurations."),(0,i.kt)("li",{parentName:"ul"},"Open the ",(0,i.kt)("strong",{parentName:"li"},"Pack Out")," window via:",(0,i.kt)("br",{parentName:"li"}),(0,i.kt)("inlineCode",{parentName:"li"},"Application Dictionary > Application Packaging > Pack Out")),(0,i.kt)("li",{parentName:"ul"},"Create a new entry:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name"),": Use a meaningful name based on the ",(0,i.kt)("a",{parentName:"li",href:"./what-is-2pack#%EF%B8%8F-file-naming-conventions"},"file naming notation recommendations")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Package Version"),": Match your plug-in version from ",(0,i.kt)("inlineCode",{parentName:"li"},"MANIFEST.MF")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Description / Instructions"),": Optional metadata"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Date From"),": Filter entries by creation date"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Export Dictionary Entity"),": Include entries with entity type ",(0,i.kt)("inlineCode",{parentName:"li"},"D")," if needed")))),(0,i.kt)("p",null,"Once ready, you will add ",(0,i.kt)("strong",{parentName:"p"},"Package Details")," before exporting."),(0,i.kt)("h3",{id:"what-can-be-packed-out"},"What Can Be Packed Out"),(0,i.kt)("p",null,'Use the "Package Detail" tab to define specific components. Supported types include:'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Application or Module"),": Full module with menu, windows, tables, etc."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Data"),": Custom SQL to extract any data"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"File / Code Snippet"),": Include external files or scripts"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Process / Report / Form / Window / Table / Workflow")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Role / Message / Import Format / Entity Type / Model Validator")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Print Format / Dynamic Validation / Reference / Report View / SQL Statement"))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\ud83e\udde0 You can add custom types by implementing new PIPO Handlers in the ",(0,i.kt)("inlineCode",{parentName:"p"},"org.adempiere.pipo.handlers")," bundle.")),(0,i.kt)("h3",{id:"creating-a-package-detail"},"Creating a Package Detail"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Add a ",(0,i.kt)("strong",{parentName:"li"},"Package Detail")," (e.g., type ",(0,i.kt)("inlineCode",{parentName:"li"},"Data"),")"),(0,i.kt)("li",{parentName:"ol"},"Select a target table (e.g., ",(0,i.kt)("inlineCode",{parentName:"li"},"AD_Package_Exp"),")"),(0,i.kt)("li",{parentName:"ol"},"Write an SQL statement to filter the data"),(0,i.kt)("li",{parentName:"ol"},"Go back to the ",(0,i.kt)("strong",{parentName:"li"},"Export Package")," tab and click ",(0,i.kt)("strong",{parentName:"li"},"Export Package"))),(0,i.kt)("p",null,"The result will be a ",(0,i.kt)("inlineCode",{parentName:"p"},"2Pack.zip")," saved to the packout folder or downloadable via the Web UI."),(0,i.kt)("h3",{id:"exporting-via-table-window"},"Exporting via Table Window"),(0,i.kt)("p",null,"In any window (e.g., Product), click the ",(0,i.kt)("strong",{parentName:"p"},"Export")," button in the toolbar:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Choose ",(0,i.kt)("strong",{parentName:"li"},"2Pack")," as the export type"),(0,i.kt)("li",{parentName:"ul"},"Select all records or just the current row"),(0,i.kt)("li",{parentName:"ul"},"iDempiere creates a 2Pack with all linked records")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"-pack-in-data-manually"},"\ud83d\udce5 Pack In Data Manually"),(0,i.kt)("h3",{id:"install-a-2pack"},"Install a 2Pack"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to ",(0,i.kt)("strong",{parentName:"li"},"Pack In")," window"),(0,i.kt)("li",{parentName:"ol"},"Create a new record and upload the ",(0,i.kt)("inlineCode",{parentName:"li"},".zip")," as an attachment"),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Pack In"))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Make sure you're logged into the correct client (e.g., System vs. GardenWorld).")),(0,i.kt)("p",null,"You can view installed packages via ",(0,i.kt)("strong",{parentName:"p"},"Packages Installed")," or use ",(0,i.kt)("strong",{parentName:"p"},"Package Maintenance")," for rollback."),(0,i.kt)("h3",{id:"rollback-a-2pack"},"Rollback a 2Pack"),(0,i.kt)("p",null,"In ",(0,i.kt)("strong",{parentName:"p"},"Package Maintenance"),", select a package and run the ",(0,i.kt)("strong",{parentName:"p"},"Pack Roll")," process.  "),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"Data")," type may not appear in rollback details but still rolls back.")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"\ufe0f-pack-in-automatically-with-plug-ins"},"\u2699\ufe0f Pack In Automatically with Plug-ins"),(0,i.kt)("h3",{id:"option-1-adempiereactivator"},"Option 1: ",(0,i.kt)("inlineCode",{parentName:"h3"},"AdempiereActivator")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"In your ",(0,i.kt)("inlineCode",{parentName:"li"},"MANIFEST.MF"),", set ",(0,i.kt)("inlineCode",{parentName:"li"},"AdempiereActivator")," as the plug-in activator"),(0,i.kt)("li",{parentName:"ol"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"org.adempiere.plugin.utils")," as a dependency"),(0,i.kt)("li",{parentName:"ol"},"Place your ",(0,i.kt)("inlineCode",{parentName:"li"},"2Pack.zip")," inside the ",(0,i.kt)("inlineCode",{parentName:"li"},"META-INF")," folder")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"When the plug-in is started, the 2Pack is installed if not already present.")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Important:")," Update your plug-in and 2Pack version when making changes.",(0,i.kt)("br",{parentName:"p"}),"\n","Only newer versions will be installed.")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"option-2-incremental2packactivator"},"Option 2: ",(0,i.kt)("inlineCode",{parentName:"h3"},"Incremental2PackActivator")),(0,i.kt)("p",null,"Allows handling ",(0,i.kt)("strong",{parentName:"p"},"multiple")," 2Packs named with a versioning pattern:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"2Pack_<Name>_<version>.zip\n")),(0,i.kt)("p",null,"Examples:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"2Pack_Tables_1.0.0.zip")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"2Pack_Processes_1.0.1.zip"))),(0,i.kt)("p",null,"These will be loaded and installed in order."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Newer versions of iDempiere (after IDEMPIERE-4105) allow using this format:"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},"2Pack_1.0.0_Tables.zip\n")),(0,i.kt)("p",{parentName:"admonition"},"(Only the portion after the version can contain underscores.)")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"-advanced-packing-out-related-records"},"\ud83d\udcda Advanced: Packing Out Related Records"),(0,i.kt)("p",null,"To pack out hierarchical data (e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"C_BPartner")," and related ",(0,i.kt)("inlineCode",{parentName:"p"},"AD_User"),"), use a structured SQL:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM C_BPartner WHERE [your_condition];AD_User>R_ContactInterest;C_BPartner_Location\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},";")," separates each reference path"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},">")," defines nesting/depth")),(0,i.kt)("p",null,"For implementation, refer to ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/idempiere/idempiere/blob/master/org.adempiere.pipo.handlers/src/org/adempiere/pipo2/handler/GenericPOElementHandler.java"},"GenericPOElementHandler"),".",(0,i.kt)("inlineCode",{parentName:"p"},"exportDetail()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},".create()")," methods."),(0,i.kt)("hr",null))}s.isMDXComponent=!0}}]);